<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-bounce.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"chopstickqy.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Charles&#39;s blog">
<meta property="og:url" content="https://chopstickqy.github.io/index.html">
<meta property="og:site_name" content="Charles&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Charles">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://chopstickqy.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Charles's blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Charles's blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Charles</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    

    
    
      <div class="sidebar-inner sidebar-blogroll">
        <div class="links-of-blogroll animated motion-element links-of-blogroll-block">
          <div class="links-of-blogroll-title">
            <i class="fa fa-history fa-history" aria-hidden="true"></i>
            è¿‘æœŸæ–‡ç« 
          </div>
          <ul class="links-of-blogroll-list">
            
            
              <li class="recent_posts_li">
                <a href="/post/2025-04-29.html" title="æ¶ˆé™¤å¼‚æ­¥å‡½æ•°çš„ä¼ æŸ“æ€§ï¼šæ„å»ºä¼˜é›…çš„åŒæ­¥å¼å¼‚æ­¥ç¼–ç¨‹èŒƒå¼" target="_blank">
                  æ¶ˆé™¤å¼‚æ­¥å‡½æ•°çš„ä¼ æŸ“æ€§ï¼šæ„å»ºä¼˜é›…çš„åŒæ­¥å¼å¼‚æ­¥ç¼–ç¨‹èŒƒå¼
                </a>
              </li>
            
              <li class="recent_posts_li">
                <a href="/post/2025-01-01.html" title="Mac è½¯ä»¶æ¨è" target="_blank">
                  Mac è½¯ä»¶æ¨è
                </a>
              </li>
            
              <li class="recent_posts_li">
                <a href="/post/2024-12-13.html" title="Sentry Micro-FE solution" target="_blank">
                  Sentry Micro-FE solution
                </a>
              </li>
            
              <li class="recent_posts_li">
                <a href="/post/2024-11-26.html" title="è§£å†³ node-canvas å®‰è£…é—®é¢˜ï¼šMac M1ã€Python ç‰ˆæœ¬ã€musl å…¼å®¹æ€§" target="_blank">
                  è§£å†³ node-canvas å®‰è£…é—®é¢˜ï¼šMac M1ã€Python ç‰ˆæœ¬ã€musl å…¼å®¹æ€§
                </a>
              </li>
            
              <li class="recent_posts_li">
                <a href="/post/2021-07-26.html" title="æ·±å…¥äº†è§£ qiankun å¾®å‰ç«¯æ¶æ„" target="_blank">
                  æ·±å…¥äº†è§£ qiankun å¾®å‰ç«¯æ¶æ„
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/collection.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/collection.html" class="post-title-link" itemprop="url">ISSUE & FEATURE COLLECTION</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š1994-07-15 00:00:00" itemprop="dateCreated datePublished" datetime="1994-07-15T00:00:00+08:00">1994-07-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-07 20:24:14" itemprop="dateModified" datetime="2025-05-07T20:24:14+08:00">2025-05-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1-issue-è§£å†³è®¿é—®github-SSL-ERROR-SYSCALLé—®é¢˜"><a href="#1-issue-è§£å†³è®¿é—®github-SSL-ERROR-SYSCALLé—®é¢˜" class="headerlink" title="1 - issue: è§£å†³è®¿é—®github SSL_ERROR_SYSCALLé—®é¢˜"></a>1 - issue: è§£å†³è®¿é—®github SSL_ERROR_SYSCALLé—®é¢˜</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git push</span><br><span class="line">fatal: unable to access &#x27;https://github.com/gentleen/token-back-end.git/&#x27;: OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443</span><br></pre></td></tr></table></figure>

<p>push ä»£ç çš„æ—¶å€™äº§ç”Ÿå¦‚ä¸Šé”™è¯¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.sslBackend &quot;openssl&quot;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå¦‚ä¸Šå‘½ä»¤ è§£å†³</p>
<h3 id="2-issue-è§£å†³AngualrJSä¸èƒ½è®¾ç½®Content-Typeè¯·æ±‚å¤´é—®é¢˜"><a href="#2-issue-è§£å†³AngualrJSä¸èƒ½è®¾ç½®Content-Typeè¯·æ±‚å¤´é—®é¢˜" class="headerlink" title="2 - issue: è§£å†³AngualrJSä¸èƒ½è®¾ç½®Content-Typeè¯·æ±‚å¤´é—®é¢˜"></a>2 - issue: è§£å†³AngualrJSä¸èƒ½è®¾ç½®Content-Typeè¯·æ±‚å¤´é—®é¢˜</h3><p>å¦‚ <code>transformRequest</code> ç¤ºä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$http(&#123;</span><br><span class="line">Â Â  Â method: &#x27;GET&#x27;,</span><br><span class="line">Â Â  Â url: &#x27;rest/home/banners&#x27;,</span><br><span class="line">Â Â  Â headers: &#123;</span><br><span class="line">Â Â  Â Â Â  Â &quot;x-version&quot;: &quot;h5-v1.0.0&quot;,</span><br><span class="line">Â Â  Â Â Â  Â &quot;x-timestamp&quot;: currentdate,</span><br><span class="line">Â Â  Â Â Â  Â &#x27;Content-type&#x27;: &#x27;application/json&#x27; Â </span><br><span class="line">Â Â  Â &#125;,</span><br><span class="line">Â Â  Â transformRequest:function(obj)&#123;</span><br><span class="line">Â Â  Â Â Â  Â var str=[];</span><br><span class="line">Â Â  Â Â Â  Â for(var p in obj)&#123;</span><br><span class="line">Â Â  Â Â Â  Â Â Â  Â str.push(encodeURIComponent(p) + &quot;-&quot;+encodeURIComponent(obj[p]));</span><br><span class="line">Â Â  Â Â Â  Â &#125;</span><br><span class="line">Â Â  Â Â Â  Â return str.join(&quot;&amp;&quot;);</span><br><span class="line">Â Â  Â &#125;</span><br><span class="line">Â Â  Â ... ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="3-feature-Angular-button-throttle-directive-sample"><a href="#3-feature-Angular-button-throttle-directive-sample" class="headerlink" title="3 - feature: Angular button throttle directive sample"></a>3 - feature: Angular button throttle directive sample</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Directive, EventEmitter, HostListener, OnInit, Output &#125; from &#x27;@angular/core&#x27;;</span><br><span class="line">import &#123; Subject, Subscription &#125; from &#x27;rxjs&#x27;;</span><br><span class="line">import &#123; throttleTime &#125; from &#x27;rxjs/operators&#x27;;</span><br><span class="line"></span><br><span class="line">@Directive(&#123;</span><br><span class="line">  selector: &#x27;[throttleClickDirective]&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export class ThrottleClickDirective implements OnInit &#123;</span><br><span class="line">    @Output() throttleClick = new EventEmitter();</span><br><span class="line">    private clicks = new Subject();</span><br><span class="line">    private subscription: Subscription;</span><br><span class="line"></span><br><span class="line">    constructor() &#123; &#125;</span><br><span class="line"></span><br><span class="line">    ngOnInit() &#123;</span><br><span class="line">      this.subscription = this.clicks.pipe(</span><br><span class="line">          throttleTime(1000)</span><br><span class="line">      ).subscribe(e =&gt; this.throttleClick.emit(e));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ngOnDestroy() &#123;</span><br><span class="line">      this.subscription.unsubscribe();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @HostListener(&#x27;click&#x27;, [&#x27;$event&#x27;])</span><br><span class="line">    clickEvent(event) &#123;</span><br><span class="line">      event.preventDefault();</span><br><span class="line">      event.stopPropagation();</span><br><span class="line">      this.clicks.next(event);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-issue-Running-docker-container-iptables-No-chain-target-match-by-that-name"><a href="#4-issue-Running-docker-container-iptables-No-chain-target-match-by-that-name" class="headerlink" title="4 - issue: Running docker container : iptables: No chain&#x2F;target&#x2F;match by that name"></a>4 - issue: Running docker container : iptables: No chain&#x2F;target&#x2F;match by that name</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t filter -F</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t filter -X</span><br></pre></td></tr></table></figure>

<ul>
<li><p>which indeeds clear all chains. One possible solution is to launch the docker daemon after the iptables setup script. Otherwise you will need to explicitly removes chains youâ€™re interested in.</p>
</li>
<li><p>Then restart docker</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2025-04-29.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2025-04-29.html" class="post-title-link" itemprop="url">æ¶ˆé™¤å¼‚æ­¥å‡½æ•°çš„ä¼ æŸ“æ€§ï¼šæ„å»ºä¼˜é›…çš„åŒæ­¥å¼å¼‚æ­¥ç¼–ç¨‹èŒƒå¼</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-04-29 00:00:00" itemprop="dateCreated datePublished" datetime="2025-04-29T00:00:00+08:00">2025-04-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å¼‚æ­¥ä¼ æŸ“æ€§é—®é¢˜å‰–æ"><a href="#å¼‚æ­¥ä¼ æŸ“æ€§é—®é¢˜å‰–æ" class="headerlink" title="å¼‚æ­¥ä¼ æŸ“æ€§é—®é¢˜å‰–æ"></a>å¼‚æ­¥ä¼ æŸ“æ€§é—®é¢˜å‰–æ</h2><p>JavaScript ä½œä¸ºå•çº¿ç¨‹è¯­è¨€ï¼Œé€šè¿‡ <code>async/await</code> è¯­æ³•å®ç°äº†éé˜»å¡å¼å¼‚æ­¥ç¼–ç¨‹ã€‚ç„¶è€Œè¿™ç§æœºåˆ¶å­˜åœ¨æ˜¾è‘—çš„å¼‚æ­¥ä¼ æŸ“æ€§ç‰¹å¾ï¼šå½“æŸä¸ªå‡½æ•°å˜ä¸ºå¼‚æ­¥åï¼Œæ‰€æœ‰ç›´æ¥æˆ–é—´æ¥ä¾èµ–å®ƒçš„å‡½æ•°éƒ½å¿…é¡»æ ‡è®°ä¸º <code>async</code> å¹¶ä½¿ç”¨ <code>await</code>ã€‚è¿™ç§ç‰¹æ€§ä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>è°ƒç”¨é“¾æ±¡æŸ“ï¼šåº•å±‚å¼‚æ­¥å‡½æ•°ä¼šæ±¡æŸ“æ•´ä¸ªè°ƒç”¨é“¾</li>
<li>ä»£ç å†—ä½™ï¼šéœ€è¦å¤§é‡é‡å¤çš„ <code>try/catch</code> å—å¤„ç†é”™è¯¯</li>
<li>é€»è¾‘å‰²è£‚ï¼šåŒæ­¥ä»£ç ä¸å¼‚æ­¥ä»£ç æ··åˆå¯¼è‡´æ§åˆ¶æµä¸æ¸…æ™°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¸å‹å¼‚æ­¥ä¼ æŸ“ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">A</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">fetchData</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">B</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">A</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">C</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">B</span>();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯å¤„ç†</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•æ‰èƒ½æ¶ˆé™¤è¿™ç§ä¼ æŸ“æ€§å‘¢ï¼Ÿ</p>
<h2 id="æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œç»­ä½“ä¸ç¼“å­˜æœºåˆ¶"><a href="#æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œç»­ä½“ä¸ç¼“å­˜æœºåˆ¶" class="headerlink" title="æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œç»­ä½“ä¸ç¼“å­˜æœºåˆ¶"></a>æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œç»­ä½“ä¸ç¼“å­˜æœºåˆ¶</h2><h3 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h3><p>é‡ç»„è¿è¡Œæ—¶é—´çº¿<br><img src="https://chopstickqy.github.io/images/2025-04-29/1.png" alt="image"></p>
<p>é‡å†™<code>fetch</code>å‡½æ•°<br><img src="https://chopstickqy.github.io/images/2025-04-29/2.png" alt="image"></p>
<p>é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªå…³é”®æ­¥éª¤æ‰“ç ´å¼‚æ­¥ä¼ æŸ“é“¾ï¼š</p>
<ol>
<li>é¦–æ¬¡æ‰§è¡Œæ‹¦æˆªï¼šåœ¨æ•°æ®æœªå°±ç»ªæ—¶æŠ›å‡º Promise</li>
<li>åå°åŠ è½½ï¼šå¯åŠ¨å¼‚æ­¥æ“ä½œå¹¶ç¼“å­˜ç»“æœ</li>
<li>ç»­ä½“æ‰§è¡Œï¼šæ•°æ®å°±ç»ªåé‡æ–°è§¦å‘åŸå§‹è°ƒç”¨é“¾</li>
</ol>
<h3 id="å®Œæ•´å®ç°æ–¹æ¡ˆ"><a href="#å®Œæ•´å®ç°æ–¹æ¡ˆ" class="headerlink" title="å®Œæ•´å®ç°æ–¹æ¡ˆ"></a>å®Œæ•´å®ç°æ–¹æ¡ˆ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cache = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">enhancedFetch</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="comment">// å‘½ä¸­ç¼“å­˜ç›´æ¥è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (cache.<span class="title function_">has</span>(url)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (cache.<span class="title function_">get</span>(url).<span class="property">status</span> === <span class="string">&#x27;fulfilled&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> cache.<span class="title function_">get</span>(url).<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> cache.<span class="title function_">get</span>(url).<span class="property">promise</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ç¼“å­˜è®°å½•</span></span><br><span class="line">  <span class="keyword">const</span> record = &#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="string">&#x27;pending&#x27;</span>,</span><br><span class="line">    <span class="attr">promise</span>: <span class="title function_">fetch</span>(url)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">json</span>())</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        record.<span class="property">status</span> = <span class="string">&#x27;fulfilled&#x27;</span>;</span><br><span class="line">        record.<span class="property">data</span> = data;</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        record.<span class="property">status</span> = <span class="string">&#x27;rejected&#x27;</span>;</span><br><span class="line">        record.<span class="property">error</span> = error;</span><br><span class="line">      &#125;),</span><br><span class="line">    <span class="attr">data</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">error</span>: <span class="literal">null</span></span><br><span class="line">  &#125;;</span><br><span class="line">  cache.<span class="title function_">set</span>(url, record);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> record.<span class="property">promise</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡ŒåŒ…è£…å™¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">execute</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> rerun = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      rerun = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">fn</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="title class_">Promise</span>) &#123;</span><br><span class="line">        error.<span class="title function_">finally</span>(<span class="function">() =&gt;</span> rerun = <span class="literal">true</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> error;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">while</span> (rerun);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fetchUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">enhancedFetch</span>(<span class="string">&#x27;/api/user&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> user = <span class="title function_">fetchUser</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;User data:&#x27;</span>, user);</span><br><span class="line">  <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨æ‰§è¡Œ</span></span><br><span class="line"><span class="title function_">execute</span>(processUser);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="React-ç”Ÿæ€ä¸­çš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆ"><a href="#React-ç”Ÿæ€ä¸­çš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆ" class="headerlink" title="React ç”Ÿæ€ä¸­çš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆ"></a>React ç”Ÿæ€ä¸­çš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆ</h2><h3 id="Suspense-é›†æˆæ–¹æ¡ˆ"><a href="#Suspense-é›†æˆæ–¹æ¡ˆ" class="headerlink" title="Suspense é›†æˆæ–¹æ¡ˆ"></a>Suspense é›†æˆæ–¹æ¡ˆ</h3><p>React 18+ å®˜æ–¹æ”¯æŒçš„ Suspense ç‰¹æ€§æ­£æ˜¯åŸºäºç›¸ä¼¼çš„åŸç†å®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºèµ„æºç¼“å­˜</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createResource</span>(<span class="params">promise</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> status = <span class="string">&#x27;pending&#x27;</span>;</span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line"></span><br><span class="line">  promise.<span class="title function_">then</span>(</span><br><span class="line">    <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">      status = <span class="string">&#x27;success&#x27;</span>;</span><br><span class="line">      result = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      status = <span class="string">&#x27;error&#x27;</span>;</span><br><span class="line">      result = error;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">read</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (status === <span class="string">&#x27;pending&#x27;</span>) <span class="keyword">throw</span> promise;</span><br><span class="line">      <span class="keyword">if</span> (status === <span class="string">&#x27;error&#x27;</span>) <span class="keyword">throw</span> result;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> userResource = <span class="title function_">createResource</span>(<span class="title function_">fetch</span>(<span class="string">&#x27;/api/user&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">UserProfile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> user = userResource.<span class="title function_">read</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;user.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">&#123;</span>&lt;<span class="attr">Loading</span> /&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">UserProfile</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="React-Query-é›†æˆ"><a href="#React-Query-é›†æˆ" class="headerlink" title="React Query é›†æˆ"></a>React Query é›†æˆ</h3><p>ç°ä»£æ•°æ®è¯·æ±‚åº“å·²å†…ç½® Suspense æ”¯æŒï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useQuery &#125; <span class="keyword">from</span> <span class="string">&#x27;@tanstack/react-query&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">UserList</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åŒæ­¥å¼æ•°æ®è®¿é—®</span></span><br><span class="line">  <span class="keyword">const</span> &#123; data &#125; = <span class="title function_">useQuery</span>(&#123;</span><br><span class="line">    <span class="attr">queryKey</span>: [<span class="string">&#x27;users&#x27;</span>],</span><br><span class="line">    <span class="attr">queryFn</span>: fetchUsers,</span><br><span class="line">    <span class="attr">suspense</span>: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> data.<span class="title function_">map</span>(<span class="function"><span class="params">user</span> =&gt;</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;user.id&#125;</span>&gt;</span>&#123;user.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>React å®˜æ–¹æ–‡æ¡£ä¸­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Suspense å’Œç±»ä¼¼ wrapPromise çš„æœºåˆ¶æ¥å¤„ç†æ•°æ®åŠ è½½<br><a target="_blank" rel="noopener" href="https://17.reactjs.org/docs/concurrent-mode-suspense.html#what-suspense-is-not">React Suspense å®˜æ–¹æ–‡æ¡£</a></p>
<h2 id="æ‰©å±•æ€è€ƒ"><a href="#æ‰©å±•æ€è€ƒ" class="headerlink" title="æ‰©å±•æ€è€ƒ"></a>æ‰©å±•æ€è€ƒ</h2><p>è¿™ç§ã€ŒåŒæ­¥å¼å¼‚æ­¥ç¼–ç¨‹ã€èŒƒå¼åœ¨ä»¥ä¸‹åœºæ™¯æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¤æ‚æ•°æ®ä¾èµ–å…³ç³»å¤„ç†</li>
<li>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰åœºæ™¯</li>
<li>éœ€è¦åŸå­åŒ–çŠ¶æ€ç®¡ç†çš„åœºæ™¯</li>
</ul>
<p>ä½†éœ€è¦æ³¨æ„å…¶é€‚ç”¨è¾¹ç•Œï¼Œå¯¹äºç®€å•çš„ä¸€æ¬¡æ€§è¯·æ±‚ï¼Œä¼ ç»Ÿçš„ <code>async/await</code> ä»ç„¶æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ã€‚æŠ€æœ¯é€‰å‹æ—¶åº”æ ¹æ®å…·ä½“åœºæ™¯æƒè¡¡å¼€å‘ä½“éªŒä¸å®ç°å¤æ‚åº¦ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2025-01-01.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2025-01-01.html" class="post-title-link" itemprop="url">Mac è½¯ä»¶æ¨è</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-01-02 00:00:00" itemprop="dateCreated datePublished" datetime="2025-01-02T00:00:00+08:00">2025-01-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">æ•ˆç‡å·¥å…·</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1-oh-my-zsh-ç»ˆç«¯çš„ç¾å­¦ä¸æ•ˆç‡é©å‘½"><a href="#1-oh-my-zsh-ç»ˆç«¯çš„ç¾å­¦ä¸æ•ˆç‡é©å‘½" class="headerlink" title="1. oh my zsh - ç»ˆç«¯çš„ç¾å­¦ä¸æ•ˆç‡é©å‘½"></a>1. oh my zsh - ç»ˆç«¯çš„ç¾å­¦ä¸æ•ˆç‡é©å‘½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸€é”®å®‰è£…å‘½ä»¤</span></span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>âœ¨ ä¸»é¢˜ç”»å»Šï¼š200+ ä¸»é¢˜ç¬é—´ç¾åŒ–ç»ˆç«¯ç•Œé¢</li>
<li>âš¡ æ™ºèƒ½è¡¥å…¨ï¼šè¾“å…¥å‘½ä»¤æ—¶æŒ‰ Tab è‡ªåŠ¨æç¤º</li>
<li>ğŸ”Œ æ’ä»¶ç”Ÿæ€ï¼š<ul>
<li>gitï¼šæ˜¾ç¤ºåˆ†æ”¯çŠ¶æ€å’Œæ–‡ä»¶ä¿®æ”¹æ ‡è¯†</li>
<li>zsh-autosuggestionsï¼šåŸºäºå†å²è®°å½•é¢„æµ‹å‘½ä»¤</li>
<li>syntax-highlightingï¼šå‘½ä»¤è¡Œè¯­æ³•é«˜äº®</li>
</ul>
</li>
</ul>
<h3 id="2-tmux-ç»ˆç«¯å¤šä»»åŠ¡ç®¡ç†"><a href="#2-tmux-ç»ˆç«¯å¤šä»»åŠ¡ç®¡ç†" class="headerlink" title="2. tmux - ç»ˆç«¯å¤šä»»åŠ¡ç®¡ç†"></a>2. tmux - ç»ˆç«¯å¤šä»»åŠ¡ç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux  <span class="comment"># é€šè¿‡ Homebrew å®‰è£…</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ğŸ–¥ï¸ åˆ†å±å·¥ä½œæµï¼š<code>Ctrl+b %</code> å‚ç›´åˆ†å± &#x2F; <code>Ctrl+b &quot;</code> æ°´å¹³åˆ†å±</li>
<li>ğŸ’¾ ä¼šè¯æŒä¹…åŒ–ï¼šSSH æ–­å¼€åä¿æŒè¿›ç¨‹è¿è¡Œï¼ˆç”¨ <code>tmux attach</code> æ¢å¤ï¼‰</li>
<li>ğŸ® å¿«æ·é”®ä½“ç³»ï¼š<ul>
<li><code>Ctrl+b d</code> åˆ†ç¦»ä¼šè¯</li>
<li><code>Ctrl+b [</code> è¿›å…¥æ»šåŠ¨æ¨¡å¼</li>
<li><code>Ctrl+b z</code> æ”¾å¤§å½“å‰é¢æ¿</li>
</ul>
</li>
</ul>
<p>æ›´å¤šå¿«æ·é”®å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2019/10/tmux.html">tmux å¿«æ·é”®åˆé›†</a></p>
<h3 id="3-hammerspoon-ç³»ç»Ÿè‡ªåŠ¨åŒ–ç¥å™¨"><a href="#3-hammerspoon-ç³»ç»Ÿè‡ªåŠ¨åŒ–ç¥å™¨" class="headerlink" title="3. hammerspoon - ç³»ç»Ÿè‡ªåŠ¨åŒ–ç¥å™¨"></a>3. hammerspoon - ç³»ç»Ÿè‡ªåŠ¨åŒ–ç¥å™¨</h3><p>Hammerspoon æ˜¯ä¸€æ¬¾åŸºäº Lua è„šæœ¬çš„ macOS è‡ªåŠ¨åŒ–å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”é«˜åº¦å¯å®šåˆ¶ï¼Œæœ€ä¸»è¦çš„ï¼Œå®Œå®Œå®Œå®Œå®Œå…¨å¼€æºå…è´¹ï¼Œç›¸æ¯”äº<code>Alfred</code>ä»…æ­¤ä¸€ç‚¹å°±å¯ä»¥æ— è„‘å†²äº†ã€‚<br>è¿™é‡Œç»™å‡ºæˆ‘åœ¨å®‰è£…ä½¿ç”¨æ—¶å‚è€ƒçš„<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1VR4y1N7TS/?spm_id_from=333.337.search-card.all.click&vd_source=3c1414cdbe43f98b6bec59170f1bca9a">Bç«™åšä¸»è§†é¢‘</a><br>è§†é¢‘å†…ï¼Œåšä¸»ä¹Ÿç»™å‡ºäº†ä»–è‡ªå·±å†™çš„ä¸€ä¸ª<code>lua</code>è„šæœ¬ï¼Œæ²¡æœ‰<code>lua</code>codingåŸºç¡€çš„å°ä¼™ä¼´å¯ä»¥å…ˆæ‹¿æ¥ç›´æ¥ç”¨</p>
<h3 id="4-Obsidianï¼šæ„å»ºä½ çš„ç¬¬äºŒå¤§è„‘"><a href="#4-Obsidianï¼šæ„å»ºä½ çš„ç¬¬äºŒå¤§è„‘" class="headerlink" title="4. Obsidianï¼šæ„å»ºä½ çš„ç¬¬äºŒå¤§è„‘"></a>4. Obsidianï¼šæ„å»ºä½ çš„ç¬¬äºŒå¤§è„‘</h3><p>åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œå¦‚ä½•é«˜æ•ˆåœ°ç®¡ç†çŸ¥è¯†æˆä¸ºäº†æ¯ä¸ªäººçš„æŒ‘æˆ˜ã€‚<a target="_blank" rel="noopener" href="https://obsidian.md/">Obsidian</a>ï¼Œè¿™æ¬¾ä»¥â€œç¬¬äºŒå¤§è„‘â€ä¸ºç†å¿µçš„ç¬”è®°å·¥å…·ï¼Œæ­£é€æ¸æˆä¸ºçŸ¥è¯†å·¥ä½œè€…çš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<h3 id="æŠ€æœ¯ä¼˜åŠ¿"><a href="#æŠ€æœ¯ä¼˜åŠ¿" class="headerlink" title="æŠ€æœ¯ä¼˜åŠ¿"></a>æŠ€æœ¯ä¼˜åŠ¿</h3><ol>
<li><p><strong>ä»£ç å‹å¥½å‹çŸ¥è¯†å›¾è°±</strong>  </p>
<ul>
<li>æ”¯æŒ <code>[[åŒå‘é“¾æ¥]]</code> + <code>#æ ‡ç­¾</code> + <code>Mermaidå›¾è¡¨</code> ä¸‰ç»´å…³è”ç³»ç»Ÿ</li>
<li>å¯è§†åŒ–å‘ˆç°æŠ€æœ¯æ¦‚å¿µé—´çš„è°ƒç”¨å…³ç³»ï¼ˆå¦‚å¾®æœåŠ¡æ¶æ„æ‹“æ‰‘ï¼‰</li>
<li>é€šè¿‡ <code>Dataview</code> æ’ä»¶å®ç°ç±»æ•°æ®åº“æŸ¥è¯¢ï¼š  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIST WHERE contains(tags, &quot;#APIè®¾è®¡&quot;) AND file.ctime &gt; date(2023-01-01)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>å·¥ç¨‹åŒ–æ‰©å±•èƒ½åŠ›</strong></p>
<ul>
<li>æ’ä»¶ç³»ç»ŸåŸºäº TypeScript å¼€å‘ï¼Œæ”¯æŒè‡ªå®šä¹‰å·¥ä½œæµï¼š<ul>
<li>é›†æˆ Terminal å®ç° CLI æ“ä½œ</li>
<li>é€šè¿‡ REST API è¿æ¥ Jira&#x2F;Jenkins</li>
<li>å¼€å‘ä»£ç ç‰‡æ®µè‡ªåŠ¨æ”¶é›†æ’ä»¶</li>
</ul>
</li>
<li>CSS ä¸»é¢˜å®šåˆ¶ + çƒ­é‡è½½è°ƒè¯•ï¼Œåª²ç¾ IDE çš„ä¸ªæ€§åŒ–ä½“éªŒ</li>
</ul>
</li>
<li><p><strong>Git åŸç”Ÿå·¥ä½œæµ</strong></p>
<ul>
<li>çº¯ Markdown å­˜å‚¨å¤©ç„¶é€‚é…ç‰ˆæœ¬æ§åˆ¶</li>
<li>è‡ªåŠ¨ commit æ’ä»¶å®ç°æ–‡æ¡£ CI&#x2F;CDï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .obsidian/git-auto-commit.sh</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Auto-save: <span class="subst">$(date)</span>&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li>
<li>å®Œç¾æ”¯æŒ GitHub Pages æ–‡æ¡£åŒæ­¥å‘å¸ƒ</li>
</ul>
</li>
</ol>
<h3 id="å¼€å‘è€…åº”ç”¨åœºæ™¯"><a href="#å¼€å‘è€…åº”ç”¨åœºæ™¯" class="headerlink" title="å¼€å‘è€…åº”ç”¨åœºæ™¯"></a>å¼€å‘è€…åº”ç”¨åœºæ™¯</h3><p>â–Œ æŠ€æœ¯æ–‡æ¡£ä¸­æ¢</p>
<ul>
<li>ç”¨ <code>Admonition</code> æ’ä»¶åˆ›å»ºæ ‡å‡†åŒ–çš„ API è¯´æ˜æ¨¡æ¿</li>
<li>é€šè¿‡ <code>Excalidraw</code> ç»˜åˆ¶ç³»ç»Ÿæ¶æ„å›¾å¹¶åµŒå…¥æ–‡æ¡£</li>
<li>ä½¿ç”¨ <code>CodeMirror</code> å®ç° IDE çº§ä»£ç é«˜äº®</li>
</ul>
<p>â–Œ å­¦ä¹ æ”»åšåˆ©å™¨  </p>
<ul>
<li>å»ºç«‹ <code>ç®—æ³•é¢˜è§£/è®¾è®¡æ¨¡å¼/æºç åˆ†æ</code> çš„ç½‘çŠ¶çŸ¥è¯†åº“</li>
<li>ç”¨ <code>Latex Suite</code> é«˜æ•ˆç¼–å†™æŠ€æœ¯å…¬å¼ï¼š<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">O(n<span class="keyword">\log</span> n) <span class="built_in">&amp;</span> <span class="keyword">\text</span>&#123; æ—¶é—´å¤æ‚åº¦ &#125; <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>â–Œ ç ”å‘è¿‡ç¨‹ç®¡ç†</p>
<ul>
<li>Kanban çœ‹æ¿è·Ÿè¸ª Sprint ä»»åŠ¡</li>
<li>Templater è‡ªåŠ¨ç”Ÿæˆ RFC æŠ€æœ¯ææ¡ˆæ¨¡æ¿</li>
<li>é€šè¿‡ Daily Notes å®ç° standup meeting è®°å½•</li>
</ul>
<p>â–Œ ä¸ªäººä»£ç åº“</p>
<ul>
<li>æ„å»ºå¯æœç´¢çš„ä»£ç ç‰‡æ®µåº“ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¿«é€Ÿæ’åº @Algorithms</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">quick_sort</span>(<span class="params">arr</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    pivot = arr[<span class="built_in">len</span>(arr) // <span class="number">2</span>]</span><br><span class="line">    left = [x <span class="keyword">for</span> x <span class="keyword">in</span> arr <span class="keyword">if</span> x &lt; pivot]</span><br><span class="line">    middle = [x <span class="keyword">for</span> x <span class="keyword">in</span> arr <span class="keyword">if</span> x == pivot]</span><br><span class="line">    right = [x <span class="keyword">for</span> x <span class="keyword">in</span> arr <span class="keyword">if</span> x &gt; pivot]</span><br><span class="line">    <span class="keyword">return</span> quick_sort(left) + middle + quick_sort(right)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="è¿›é˜¶æŠ€å·§"><a href="#è¿›é˜¶æŠ€å·§" class="headerlink" title="è¿›é˜¶æŠ€å·§"></a>è¿›é˜¶æŠ€å·§</h3><ul>
<li>ä½¿ç”¨ VSCode-Obsidian æ’ä»¶å®ç°åŒç¼–è¾‘å™¨è”åŠ¨</li>
<li>é€šè¿‡ Obsidian Git å®ç°å¤šè®¾å¤‡åŒæ­¥</li>
<li>å¼€å‘è‡ªå®šä¹‰æ’ä»¶å¯¹æ¥å†…éƒ¨ DevOps å¹³å°</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2024-12-13.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2024-12-13.html" class="post-title-link" itemprop="url">Sentry Micro-FE solution</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-12-13 00:00:00" itemprop="dateCreated datePublished" datetime="2024-12-13T00:00:00+08:00">2024-12-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰æ™¯ä»‹ç»"><a href="#å‰æ™¯ä»‹ç»" class="headerlink" title="å‰æ™¯ä»‹ç»"></a>å‰æ™¯ä»‹ç»</h2><p>é¡¹ç›®åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œå…¬å…±é€»è¾‘æˆ–ç»„ä»¶çš„é‡å¤ä½¿ç”¨é¢‘ç‡ä¹Ÿåœ¨é€æ¸å¢åŠ ã€‚ä¸ºäº†æ–¹ä¾¿ç®¡ç†å…¬å…±ç»„ä»¶ä»£ç ï¼Œæå‡å¼€å‘æ•ˆç‡ç­‰ï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥å¾®å‰ç«¯æˆ–è€…å¾®ç»„ä»¶çš„æ¦‚å¿µã€‚</p>
<p>å½“å‰é¡¹ç›®çš„ source map é€šè¿‡ Jenkins éƒ¨ç½²ä»£ç æ—¶åŒæ­¥ä¸Šä¼ åˆ° Sentry è¿›è¡Œç®¡ç†ï¼Œå› æ­¤ï¼Œå…¶ä»– gems æˆ– sweets ç»„ä»¶æ— æ³•é€šè¿‡ç›¸åŒæ–¹å¼ä¸Šä¼  source mapã€‚å› æ­¤ï¼Œéœ€è¦æ–°çš„æ–¹æ¡ˆæ¥è§£å†³å¾®å‰ç«¯é¡¹ç›®çš„ source map ä¸Šä¼ é—®é¢˜ã€‚</p>
<h2 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h2><p>Sentry å®˜ç½‘æä¾›äº†å¾®å‰ç«¯æ–¹æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://docs.sentry.io/platforms/javascript/guides/deno/best-practices/micro-frontends/">Sentry Micro-Frontends</a>ã€‚</p>
<h3 id="åŠŸèƒ½ä»£ç ä¿®æ”¹ï¼š"><a href="#åŠŸèƒ½ä»£ç ä¿®æ”¹ï¼š" class="headerlink" title="åŠŸèƒ½ä»£ç ä¿®æ”¹ï¼š"></a>åŠŸèƒ½ä»£ç ä¿®æ”¹ï¼š</h3><ul>
<li>å¼•å…¥ <strong>Sentry Plugin - moduleMetadata æ¨¡å—</strong>ï¼Œå¯¹ç¼–è¯‘åçš„æ–‡ä»¶å¢åŠ å…ƒæ•°æ®ã€‚</li>
<li>Sentry åˆå§‹åŒ–æ—¶å¼•å…¥ <strong>metadataIntegrations</strong> å¤„ç†å…ƒæ•°æ®ã€‚</li>
<li>é€šè¿‡å…ƒæ•°æ® <strong>å¤šè·¯ä¼ è¾“</strong>ã€‚</li>
</ul>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="Sentry-Plugin-Metadata-Module"><a href="#Sentry-Plugin-Metadata-Module" class="headerlink" title="Sentry Plugin - Metadata Module"></a><a target="_blank" rel="noopener" href="https://github.com/search?q=repo:getsentry/sentry-javascript-bundler-plugins%20webpackModuleMetadataInjectionPlugin&type=code">Sentry Plugin - Metadata Module</a></h3><ul>
<li>è¯¥æ’ä»¶é€šè¿‡ Webpack å†…ç½®çš„ <code>BannerPlugin</code> åœ¨ç¼–è¯‘åçš„æ–‡ä»¶å¤´éƒ¨æ³¨å…¥å…ƒæ•°æ®ã€‚</li>
<li>å…ƒæ•°æ®ä¼šæ³¨å…¥åˆ° <code>window.sentryModuleMetadata</code> å¯¹è±¡ä¸‹ï¼Œ<code>[key]</code> ä¸ºå½“å‰æ–‡ä»¶çš„ URL (<code>new window.Error().stack</code>)ï¼Œ<code>[value]</code> ä¸ºå…ƒæ•°æ®å€¼ã€‚</li>
</ul>
<h3 id="moduleMetadataIntegration"><a href="#moduleMetadataIntegration" class="headerlink" title="moduleMetadataIntegration"></a><a target="_blank" rel="noopener" href="https://github.com/getsentry/sentry-javascript/blob/13bb652e068693eaad920467133f19cde46b0a85/packages/core/src/integrations/metadata.ts#L16">moduleMetadataIntegration</a></h3><ul>
<li>é€šè¿‡ <code>beforeEnvelope</code> ç”Ÿå‘½å‘¨æœŸæ‹¦æˆªå‘é€åˆ° Sentry çš„æ•°æ®åŒ…ï¼Œä»äº‹ä»¶çš„å †æ ˆå¸§ï¼ˆstack framesï¼‰ä¸­å‰¥ç¦»å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼Œç¡®ä¿æ•°æ®ä»…åœ¨å®¢æˆ·ç«¯å¤„ç†ï¼Œä¸ä¼šå‘é€åˆ° Sentry æœåŠ¡å™¨ï¼Œå‡å°‘ä¼ è¾“çš„æ•°æ®é‡å¹¶ä¿æŠ¤éšç§ã€‚</li>
<li>é€šè¿‡ <code>applyFrameMetadata</code> ç”Ÿå‘½å‘¨æœŸï¼Œå°†å…ƒæ•°æ®æ³¨å…¥åˆ°å½“å‰äº‹ä»¶ä¸­ã€‚</li>
</ul>
<h3 id="å¤šè·¯ä¼ è¾“-makeMultiplexedTransport"><a href="#å¤šè·¯ä¼ è¾“-makeMultiplexedTransport" class="headerlink" title="å¤šè·¯ä¼ è¾“ makeMultiplexedTransport"></a>å¤šè·¯ä¼ è¾“ <code>makeMultiplexedTransport</code></h3><ul>
<li><code>beforeSend</code> å¢åŠ è§£æå…ƒæ•°æ®é€»è¾‘ï¼Œå¹¶æ³¨å…¥åˆ°äº‹ä»¶ä¸­ã€‚</li>
<li>æ³¨å†Œå¤šè·¯ä¼ è¾“ <code>transport</code>ï¼Œæ ¹æ®è§£æå‡ºçš„å…ƒæ•°æ®åˆ†å‘è¯·æ±‚ã€‚</li>
</ul>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul>
<li>å…ƒæ•°æ®ä¸­å¿…é¡»çš„å‚æ•° <code>dsn</code> å’Œ <code>release</code><ul>
<li><code>dsn</code>ï¼šç”¨äºè¯·æ±‚å‘é€åˆ°æŒ‡å®šä»“åº“ã€‚</li>
<li><code>release</code>ï¼šç”¨äºç‰ˆæœ¬åŒ¹é…æ˜ å°„åˆ°å…·ä½“çš„ source mapã€‚<ul>
<li>ä½¿ç”¨ <code>DefinePlugin</code> å°†æ‰“åŒ…çš„é•œåƒç‰ˆæœ¬è®¾ç½®ä¸ºå…¨å±€å˜é‡ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">  <span class="string">&#x27;process.env.RELEASE_TAG&#x27;</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(release)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2024-11-26.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2024-11-26.html" class="post-title-link" itemprop="url">è§£å†³ node-canvas å®‰è£…é—®é¢˜ï¼šMac M1ã€Python ç‰ˆæœ¬ã€musl å…¼å®¹æ€§</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2024-11-26 00:00:00" itemprop="dateCreated datePublished" datetime="2024-11-26T00:00:00+08:00">2024-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨é¡¹ç›®ä¸­éœ€è¦ç”ŸæˆäºŒç»´ç ï¼Œå› æ­¤é€‰æ‹©äº† <code>easyqrcodejs</code> ä½œä¸ºå‰ç«¯å’Œåç«¯ï¼ˆNode.jsï¼‰äºŒç»´ç ç”Ÿæˆæ–¹æ¡ˆã€‚ç„¶è€Œï¼Œåœ¨æœåŠ¡ç«¯ä½¿ç”¨ <code>easyqrcodejs</code> æ—¶ï¼Œä¾èµ–çš„ <code>node-canvas</code> å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚æœ¬æ–‡è®°å½•å¹¶æä¾›ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr>
<h2 id="é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><h3 id="1-Mac-M1-èŠ¯ç‰‡æ— æ³•å®‰è£…-node-canvas"><a href="#1-Mac-M1-èŠ¯ç‰‡æ— æ³•å®‰è£…-node-canvas" class="headerlink" title="1. Mac M1 èŠ¯ç‰‡æ— æ³•å®‰è£… node-canvas"></a>1. Mac M1 èŠ¯ç‰‡æ— æ³•å®‰è£… <code>node-canvas</code></h3><p>Mac M1 ç”µè„‘ç¼ºå°‘ <code>node-canvas</code> è¿è¡Œæ‰€éœ€çš„ä¾èµ–åº“ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install pkg-config cairo pango libpng jpeg giflib librsvg</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å…³ Issueï¼š<a target="_blank" rel="noopener" href="https://github.com/Automattic/node-canvas/issues/1733">Canâ€™t install on Apple M1</a></p>
</blockquote>
<hr>
<h3 id="2-Python-ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´-import-gyp-æŠ¥é”™"><a href="#2-Python-ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´-import-gyp-æŠ¥é”™" class="headerlink" title="2. Python ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´ import gyp æŠ¥é”™"></a>2. Python ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´ <code>import gyp</code> æŠ¥é”™</h3><h4 id="æŠ¥é”™ä¿¡æ¯ç‰‡æ®µï¼š"><a href="#æŠ¥é”™ä¿¡æ¯ç‰‡æ®µï¼š" class="headerlink" title="æŠ¥é”™ä¿¡æ¯ç‰‡æ®µï¼š"></a>æŠ¥é”™ä¿¡æ¯ç‰‡æ®µï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;/Users/w/.nvm/versions/node/v18.20.4/lib/node_modules/pnpm/dist/node_modules/node-gyp/gyp/gyp_main.py&quot;</span>, line 42, <span class="keyword">in</span> â€¹module:</span><br><span class="line">import gyp</span><br></pre></td></tr></table></figure>

<h4 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h4><p>è¯¥é—®é¢˜é€šå¸¸ç”± Python ç‰ˆæœ¬è¿‡é«˜å¯¼è‡´ï¼Œå¯ä½¿ç”¨ Python 3.9.6 è§£å†³ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pyenv install 3.9.6</span><br><span class="line">pyenv global 3.9.6</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="3-node-canvas-å®‰è£…æ—¶æŠ¥é”™ï¼šNot-Found-on-XXXX"><a href="#3-node-canvas-å®‰è£…æ—¶æŠ¥é”™ï¼šNot-Found-on-XXXX" class="headerlink" title="3. node-canvas å®‰è£…æ—¶æŠ¥é”™ï¼šNot Found on XXXX"></a>3. <code>node-canvas</code> å®‰è£…æ—¶æŠ¥é”™ï¼š<code>Not Found on XXXX</code></h3><h4 id="æŠ¥é”™ä¿¡æ¯ï¼š"><a href="#æŠ¥é”™ä¿¡æ¯ï¼š" class="headerlink" title="æŠ¥é”™ä¿¡æ¯ï¼š"></a>æŠ¥é”™ä¿¡æ¯ï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-pre-gyp ERR! install response status 404 Not Found on https://github.com/Automattic/node-canvas/releases/download/v2.11.2/canvas-v2.11.2-node-v108-linux-musl-x64.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="é—®é¢˜åˆ†æï¼š"><a href="#é—®é¢˜åˆ†æï¼š" class="headerlink" title="é—®é¢˜åˆ†æï¼š"></a>é—®é¢˜åˆ†æï¼š</h4><p>é”™è¯¯å‘ç”Ÿåœ¨ Linux æœåŠ¡å™¨ä¸Šï¼Œå…¶ä¸­ <code>musl</code> ä»£è¡¨ Linux æ“ä½œç³»ç»Ÿä½¿ç”¨çš„ C æ ‡å‡†åº“ï¼Œè€Œ <code>node-canvas</code> ä»…æ”¯æŒ <code>glibc</code>ï¼Œä¸å…¼å®¹ <code>musl</code> ç‰ˆæœ¬çš„ç³»ç»Ÿã€‚å› æ­¤ï¼Œå¦‚æœä½¿ç”¨ Docker é•œåƒè¿›è¡Œæ„å»ºï¼Œéœ€è¦ç¡®ä¿é•œåƒåŸºäº <code>glibc</code>ã€‚</p>
<h4 id="è§£å†³æ–¹æ¡ˆï¼š-1"><a href="#è§£å†³æ–¹æ¡ˆï¼š-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h4><p>å¦‚æœåœ¨ Alpine Linuxï¼ˆé»˜è®¤ä½¿ç”¨ <code>musl</code>ï¼‰ä¸Šå®‰è£… <code>node-canvas</code>ï¼Œå¯ä»¥åˆ‡æ¢åˆ° <code>glibc</code> ç‰ˆæœ¬çš„ Linux å‘è¡Œç‰ˆï¼Œæˆ–è€…ä½¿ç”¨ <code>glibc</code> å…¼å®¹çš„ <code>node-canvas</code> ç‰ˆæœ¬ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å¸¦ glibc çš„ Node.js é•œåƒ</span></span><br><span class="line">docker pull node:lts-bullseye</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="4-æ›¿æ¢å›½å†…é•œåƒæºä»¥åŠ é€Ÿå®‰è£…"><a href="#4-æ›¿æ¢å›½å†…é•œåƒæºä»¥åŠ é€Ÿå®‰è£…" class="headerlink" title="4. æ›¿æ¢å›½å†…é•œåƒæºä»¥åŠ é€Ÿå®‰è£…"></a>4. æ›¿æ¢å›½å†…é•œåƒæºä»¥åŠ é€Ÿå®‰è£…</h3><p>ç”±äº <code>node-canvas</code> éœ€è¦ä» <code>github</code> ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå›½å†…è®¿é—®è¾ƒæ…¢æˆ–å—é™ï¼Œå¯ä½¿ç”¨æ·˜å® <code>npm</code> é•œåƒæºè¿›è¡ŒåŠ é€Ÿã€‚</p>
<h4 id="é…ç½®-npmrc-æ–‡ä»¶ï¼š"><a href="#é…ç½®-npmrc-æ–‡ä»¶ï¼š" class="headerlink" title="é…ç½® .npmrc æ–‡ä»¶ï¼š"></a>é…ç½® <code>.npmrc</code> æ–‡ä»¶ï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas/</span><br></pre></td></tr></table></figure>

<h4 id="ç›´æ¥ä½¿ç”¨-npm-å®‰è£…ï¼š"><a href="#ç›´æ¥ä½¿ç”¨-npm-å®‰è£…ï¼š" class="headerlink" title="ç›´æ¥ä½¿ç”¨ npm å®‰è£…ï¼š"></a>ç›´æ¥ä½¿ç”¨ <code>npm</code> å®‰è£…ï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas/</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨-pnpm-å®‰è£…ï¼š"><a href="#ä½¿ç”¨-pnpm-å®‰è£…ï¼š" class="headerlink" title="ä½¿ç”¨ pnpm å®‰è£…ï¼š"></a>ä½¿ç”¨ <code>pnpm</code> å®‰è£…ï¼š</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm install --config.canvas_binary_host_mirror=https://registry.npmmirror.com/-/binary/canvas/</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>åœ¨ä½¿ç”¨ <code>node-canvas</code> è¿›è¡ŒäºŒç»´ç ç”Ÿæˆæ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å¤šä¸ªç¯å¢ƒç›¸å…³çš„é—®é¢˜ã€‚æœ¬æ–‡æä¾›äº†è§£å†³ Mac M1ã€Python ç‰ˆæœ¬ã€<code>musl</code> å…¼å®¹æ€§ä»¥åŠå®‰è£…åŠ é€Ÿç­‰æ–¹æ³•ï¼Œå¸Œæœ›èƒ½å¸®åŠ©é‡åˆ°ç›¸åŒé—®é¢˜çš„å¼€å‘è€…ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2021-07-26.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2021-07-26.html" class="post-title-link" itemprop="url">æ·±å…¥äº†è§£ qiankun å¾®å‰ç«¯æ¶æ„</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-07-26 00:00:00" itemprop="dateCreated datePublished" datetime="2021-07-26T00:00:00+08:00">2021-07-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>éšç€å‰ç«¯åº”ç”¨çš„å¤æ‚åº¦ä¸æ–­æå‡ï¼Œä¼ ç»Ÿçš„å•ä½“åº”ç”¨æ¶æ„é€æ¸æš´éœ²å‡ºç»´æŠ¤å›°éš¾ã€æŠ€æœ¯æ ˆå‡çº§å›°éš¾ç­‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œå¾®å‰ç«¯æ¶æ„åº”è¿è€Œç”Ÿã€‚qiankun ä½œä¸ºä¸€æ¬¾åŸºäº single-spa çš„å¾®å‰ç«¯å®ç°åº“ï¼Œæä¾›äº†é«˜æ•ˆã€çµæ´»çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„å‰ç«¯ç³»ç»Ÿã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯å¾®å‰ç«¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¾®å‰ç«¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¾®å‰ç«¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¾®å‰ç«¯ï¼Ÿ</h2><p>å¾®å‰ç«¯æ˜¯ä¸€ç§å°†å¤§å‹å‰ç«¯åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå°å‹ã€ç‹¬ç«‹ã€è‡ªæ²»çš„å­åº”ç”¨çš„æ¶æ„æ¨¡å¼ã€‚æ¯ä¸ªå­åº”ç”¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆï¼Œç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ï¼Œæœ€ç»ˆé€šè¿‡ä¸»åº”ç”¨è¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œå±•ç¤ºã€‚å¾®å‰ç«¯çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œæ‹†â€å’Œâ€œåˆâ€ï¼Œå³å°†å¤æ‚çš„åº”ç”¨æ‹†è§£æˆå¤šä¸ªå°æ¨¡å—ï¼Œå†é€šè¿‡ä¸»åº”ç”¨å°†å…¶ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿã€‚</p>
<h2 id="Qiankun-çš„ä¼˜åŠ¿"><a href="#Qiankun-çš„ä¼˜åŠ¿" class="headerlink" title="Qiankun çš„ä¼˜åŠ¿"></a>Qiankun çš„ä¼˜åŠ¿</h2><p>Qiankun ä½œä¸ºå¾®å‰ç«¯çš„å®ç°åº“ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆæ— å…³</strong>ï¼šä¸»åº”ç”¨å’Œå­åº”ç”¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
<li><strong>ç‹¬ç«‹å¼€å‘ä¸éƒ¨ç½²</strong>ï¼šæ¯ä¸ªå­åº”ç”¨å¯ä»¥ç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>å¢é‡å‡çº§</strong>ï¼šå¯ä»¥é€æ­¥å°†è€æ—§ç³»ç»Ÿè¿ç§»åˆ°å¾®å‰ç«¯æ¶æ„ï¼Œå®ç°å¹³æ»‘è¿‡æ¸¡ã€‚</li>
<li><strong>è¿è¡Œæ—¶éš”ç¦»</strong>ï¼šå­åº”ç”¨ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“ã€‚</li>
</ul>
<h2 id="Qiankun-çš„å·¥ä½œåŸç†"><a href="#Qiankun-çš„å·¥ä½œåŸç†" class="headerlink" title="Qiankun çš„å·¥ä½œåŸç†"></a>Qiankun çš„å·¥ä½œåŸç†</h2><p>Qiankun é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°å¾®å‰ç«¯æ¶æ„ï¼š</p>
<ol>
<li><strong>ä¸»åº”ç”¨æ³¨å†Œå­åº”ç”¨</strong>ï¼šä¸»åº”ç”¨é€šè¿‡ Qiankun æä¾›çš„ API æ³¨å†Œå„ä¸ªå­åº”ç”¨ï¼ŒæŒ‡å®šå­åº”ç”¨çš„åŠ è½½æ–¹å¼ã€è·¯ç”±è§„åˆ™ç­‰ã€‚</li>
<li><strong>å­åº”ç”¨åŠ è½½</strong>ï¼šå½“è·¯ç”±åŒ¹é…åˆ°æŸä¸ªå­åº”ç”¨æ—¶ï¼ŒQiankun ä¼šåŠ è½½å¯¹åº”çš„å­åº”ç”¨ï¼Œå¹¶å°†å…¶æŒ‚è½½åˆ°æŒ‡å®šçš„ DOM èŠ‚ç‚¹ä¸Šã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šQiankun ä¸ºæ¯ä¸ªå­åº”ç”¨æä¾›äº†ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå¦‚ <code>bootstrap</code>ã€<code>mount</code>ã€<code>unmount</code>ï¼Œå¼€å‘è€…å¯ä»¥åœ¨è¿™äº›é’©å­ä¸­ç¼–å†™ç›¸åº”çš„é€»è¾‘ã€‚</li>
</ol>
<h2 id="å®è·µæ¡ˆä¾‹"><a href="#å®è·µæ¡ˆä¾‹" class="headerlink" title="å®è·µæ¡ˆä¾‹"></a>å®è·µæ¡ˆä¾‹</h2><p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ qiankun çš„ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ qiankun å®ç°å¾®å‰ç«¯æ¶æ„ã€‚</p>
<h3 id="æ¶æ„ç¤ºæ„å›¾"><a href="#æ¶æ„ç¤ºæ„å›¾" class="headerlink" title="æ¶æ„ç¤ºæ„å›¾"></a>æ¶æ„ç¤ºæ„å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+-------------------+</span><br><span class="line">|   ä¸»åº”ç”¨ (Angular)   |</span><br><span class="line">|                   |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">|  | å­åº”ç”¨ 1    |  |</span><br><span class="line">|  | (Angular)  |  |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">|  | å­åº”ç”¨ 2    |  |</span><br><span class="line">|  | (Vue)      |  |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">|  | å­åº”ç”¨ 3    |  |</span><br><span class="line">|  | (React)    |  |</span><br><span class="line">|  +-------------+  |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure>


<h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><h3 id="1-åˆ›å»ºä¸»åº”ç”¨-Angular"><a href="#1-åˆ›å»ºä¸»åº”ç”¨-Angular" class="headerlink" title="1. åˆ›å»ºä¸»åº”ç”¨ (Angular)"></a>1. åˆ›å»ºä¸»åº”ç”¨ (Angular)</h3><p>é¦–å…ˆï¼Œåœ¨ Angular é¡¹ç›®ä¸­å®‰è£… qiankun</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install qiankun</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œåœ¨ä¸»åº”ç”¨ä¸­è®¾ç½® qiankun æ¥åŠ è½½å­åº”ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span>, <span class="title class_">OnInit</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; registerMicroApps, setDefaultMountApp, start &#125; <span class="keyword">from</span> <span class="string">&#x27;qiankun&#x27;</span>;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;#parent-angular app-root&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./app.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./app.component.scss&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> implements <span class="title class_">OnInit</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">ngOnInit</span>() : <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">registerMicroApps</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">registerMicroApps</span>() : <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="title function_">registerMicroApps</span>([</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;child-react&#x27;</span>,</span><br><span class="line">        <span class="attr">entry</span>: <span class="string">&#x27;//localhost:3000&#x27;</span>,</span><br><span class="line">        <span class="attr">container</span>: <span class="string">&#x27;#subapp-viewer&#x27;</span>,</span><br><span class="line">        <span class="attr">activeRule</span>: <span class="function"><span class="params">location</span> =&gt;</span> location.<span class="property">hash</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;#/sub-micro/child-react&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;child-vue&#x27;</span>,</span><br><span class="line">        <span class="attr">entry</span>: <span class="string">&#x27;//localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">container</span>: <span class="string">&#x27;#subapp-viewer&#x27;</span>,</span><br><span class="line">        <span class="attr">activeRule</span>: <span class="function"><span class="params">location</span> =&gt;</span> location.<span class="property">hash</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;#/sub-micro/child-vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;child-angular&#x27;</span>,</span><br><span class="line">        <span class="attr">entry</span>: <span class="string">&#x27;//localhost:4300&#x27;</span>,</span><br><span class="line">        <span class="attr">container</span>: <span class="string">&#x27;#subapp-viewer&#x27;</span>,</span><br><span class="line">        <span class="attr">activeRule</span>: <span class="function"><span class="params">location</span> =&gt;</span> location.<span class="property">hash</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;#/sub-micro/child-angular&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">beforeLoad</span>: [</span><br><span class="line">        <span class="function"><span class="params">app</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[LifeCycle] before load %c%s&#x27;</span>, <span class="string">&#x27;color: green;&#x27;</span>, app.<span class="property">name</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">beforeMount</span>: [</span><br><span class="line">        <span class="function"><span class="params">app</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[LifeCycle] before mount %c%s&#x27;</span>, <span class="string">&#x27;color: green;&#x27;</span>, app.<span class="property">name</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">afterUnmount</span>: [</span><br><span class="line">        <span class="function"><span class="params">app</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[LifeCycle] after unmount %c%s&#x27;</span>, <span class="string">&#x27;color: green;&#x27;</span>, app.<span class="property">name</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å­é¡¹ç›®è·¯ç”±æ ¹ç»„ä»¶ä¸­è°ƒç”¨<code>start</code>æ–¹æ³•åŠ è½½<code>qiankun</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AfterViewInit</span>, <span class="title class_">Component</span>, <span class="title class_">OnInit</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; registerMicroApps, start &#125; <span class="keyword">from</span> <span class="string">&#x27;qiankun&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-sub-micro&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./sub-micro.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./sub-micro.component.scss&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">SubMicroComponent</span> <span class="keyword">implements</span> <span class="title class_">OnInit</span>, <span class="title class_">AfterViewInit</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">  <span class="title function_">ngAfterViewInit</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="title function_">start</span>(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">prefetch</span>: <span class="literal">false</span> <span class="comment">// å–æ¶ˆé¢„åŠ è½½</span></span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">ngOnInit</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-åˆ›å»ºå­åº”ç”¨-Angular"><a href="#2-åˆ›å»ºå­åº”ç”¨-Angular" class="headerlink" title="2. åˆ›å»ºå­åº”ç”¨ (Angular)"></a>2. åˆ›å»ºå­åº”ç”¨ (Angular)</h3><p>ä½¿ç”¨ Angular åˆ›å»ºä¸€ä¸ªå­åº”ç”¨ï¼Œå¹¶ç¡®ä¿å®ƒèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œã€‚ç¡®ä¿åœ¨æ„å»ºæ—¶ï¼Œå°†å­åº”ç”¨æš´éœ²ä¸ºä¸€ä¸ªå¾®å‰ç«¯åº”ç”¨ï¼Œä¾›ä¸»åº”ç”¨åŠ è½½ã€‚<br>é€šè¿‡<code>window.__POWERED_BY_QIANKUN__</code>æ ‡è¯†åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯é€šè¿‡ qiankun åŠ è½½çš„å¾®å‰ç«¯å­åº”ç”¨ã€‚å¦‚æœè¯¥å€¼ä¸º trueï¼Œè¯´æ˜å½“å‰åº”ç”¨æ˜¯ä¸€ä¸ªå¾®å‰ç«¯å­åº”ç”¨ï¼›å¦‚æœä¸º falseï¼Œè¯´æ˜åº”ç”¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">APP_BASE_HREF</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouterModule</span>, <span class="title class_">Routes</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">Routes</span> = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">loadChildren</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./home/home.module&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">m</span> =&gt;</span> m.<span class="property">HomeModule</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;readme&#x27;</span>,</span><br><span class="line">    <span class="attr">loadChildren</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./readme/readme.module&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">m</span> =&gt;</span> m.<span class="property">ReadmeModule</span>)</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">imports</span>: [<span class="title class_">RouterModule</span>.<span class="title function_">forRoot</span>(routes)],</span><br><span class="line">  <span class="attr">exports</span>: [<span class="title class_">RouterModule</span>],</span><br><span class="line">  <span class="comment">// @ts-ignore</span></span><br><span class="line">  <span class="attr">providers</span>: [&#123;<span class="attr">provide</span>: <span class="variable constant_">APP_BASE_HREF</span>, <span class="attr">useValue</span>: <span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span> ? <span class="string">&#x27;/sub-micro/child-angular&#x27;</span> : <span class="string">&#x27;/&#x27;</span>&#125;]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppRoutingModule</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»ºå­åº”ç”¨-Vue"><a href="#3-åˆ›å»ºå­åº”ç”¨-Vue" class="headerlink" title="3. åˆ›å»ºå­åº”ç”¨ (Vue)"></a>3. åˆ›å»ºå­åº”ç”¨ (Vue)</h3><p>ä½¿ç”¨ Vue åˆ›å»ºä¸€ä¸ªå­åº”ç”¨ï¼Œå¹¶ç¡®ä¿å®ƒèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œã€‚ç¡®ä¿åœ¨æ„å»ºæ—¶ï¼Œå°†å­åº”ç”¨æš´éœ²ä¸ºä¸€ä¸ªå¾®å‰ç«¯åº”ç”¨ï¼Œä¾›ä¸»åº”ç”¨åŠ è½½ã€‚<br>é€šè¿‡<code>window.__POWERED_BY_QIANKUN__</code>æ ‡è¯†åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯é€šè¿‡ qiankun åŠ è½½çš„å¾®å‰ç«¯å­åº”ç”¨ã€‚å¦‚æœè¯¥å€¼ä¸º trueï¼Œè¯´æ˜å½“å‰åº”ç”¨æ˜¯ä¸€ä¸ªå¾®å‰ç«¯å­åº”ç”¨ï¼›å¦‚æœä¸º falseï¼Œè¯´æ˜åº”ç”¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span>, &#123; <span class="title class_">RouteConfig</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../views/Home.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">window</span>: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">RouteConfig</span>[] = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/sub-micro/child-vue/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/sub-micro/child-vue/about&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    <span class="comment">// route level code-splitting</span></span><br><span class="line">    <span class="comment">// this generates a separate chunk (about.[hash].js) for this route</span></span><br><span class="line">    <span class="comment">// which is lazy-loaded when the route is visited.</span></span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&#x27;../views/About.vue&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">base</span>: <span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span> ? <span class="string">&#x27;/sub-micro/child-vue&#x27;</span> : <span class="string">&#x27;/sub-micro/child-vue&#x27;</span>,</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;hash&#x27;</span>,</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<h3 id="4-åˆ›å»ºå­åº”ç”¨-React"><a href="#4-åˆ›å»ºå­åº”ç”¨-React" class="headerlink" title="4. åˆ›å»ºå­åº”ç”¨ (React)"></a>4. åˆ›å»ºå­åº”ç”¨ (React)</h3><p>ä½¿ç”¨ React åˆ›å»ºä¸€ä¸ªå­åº”ç”¨ï¼Œå¹¶ç¡®ä¿å®ƒèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œã€‚ç¡®ä¿åœ¨æ„å»ºæ—¶ï¼Œå°†å­åº”ç”¨æš´éœ²ä¸ºä¸€ä¸ªå¾®å‰ç«¯åº”ç”¨ï¼Œä¾›ä¸»åº”ç”¨åŠ è½½ã€‚<br>é€šè¿‡<code>window.__POWERED_BY_QIANKUN__</code>æ ‡è¯†åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯é€šè¿‡ qiankun åŠ è½½çš„å¾®å‰ç«¯å­åº”ç”¨ã€‚å¦‚æœè¯¥å€¼ä¸º trueï¼Œè¯´æ˜å½“å‰åº”ç”¨æ˜¯ä¸€ä¸ªå¾®å‰ç«¯å­åº”ç”¨ï¼›å¦‚æœä¸º falseï¼Œè¯´æ˜åº”ç”¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./public-path&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span>,<span class="title class_">HashRouter</span>,<span class="title class_">Route</span>,<span class="title class_">Switch</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;./home&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Readme</span> <span class="keyword">from</span> <span class="string">&#x27;./readme/readme&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">render</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; container &#125; = props;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HashRouter</span> <span class="attr">basename</span>=<span class="string">&#123;window.__POWERED_BY_QIANKUN__</span> ? &#x27;/<span class="attr">sub-micro</span>/<span class="attr">child-react</span>&#x27; <span class="attr">:</span> &#x27;/&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Home&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">&quot;/readme&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Readme&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span>,</span><br><span class="line"> container ? container.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>) : <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="variable language_">window</span>.<span class="property">__POWERED_BY_QIANKUN__</span>) &#123;</span><br><span class="line">  <span class="title function_">render</span>(&#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">bootstrap</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">mount</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="title function_">render</span>(props);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">unmount</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; container &#125; = props;</span><br><span class="line">  <span class="title class_">ReactDOM</span>.<span class="title function_">unmountComponentAtNode</span>(container ? container.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>) : <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿è¡Œå’Œéƒ¨ç½²"><a href="#è¿è¡Œå’Œéƒ¨ç½²" class="headerlink" title="è¿è¡Œå’Œéƒ¨ç½²"></a>è¿è¡Œå’Œéƒ¨ç½²</h2><p>åœ¨å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œå¯ä»¥å¯åŠ¨å„ä¸ªå­åº”ç”¨å’Œä¸»åº”ç”¨ï¼Œç¡®ä¿å®ƒä»¬éƒ½èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå¹¶é€šè¿‡ qiankun æ¡†æ¶å°†å®ƒä»¬é›†æˆåœ¨ä¸€èµ·ã€‚</p>
<p>å­åº”ç”¨çš„è¿è¡Œåœ°å€åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>Angular å­åº”ç”¨ï¼š<a target="_blank" rel="noopener" href="http://localhost:3000/">http://localhost:3000</a></li>
<li>Vue å­åº”ç”¨ï¼š<a target="_blank" rel="noopener" href="http://localhost:8000/">http://localhost:8000</a></li>
<li>React å­åº”ç”¨ï¼š<a target="_blank" rel="noopener" href="http://localhost:4300/">http://localhost:4300</a></li>
</ul>
<h2 id="Demo-ä»£ç "><a href="#Demo-ä»£ç " class="headerlink" title="Demo ä»£ç "></a>Demo ä»£ç </h2><p>ä¸ºäº†å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘å·²ç»å°†æ‰€æœ‰ä»£ç æ•´åˆå¹¶å‘å¸ƒåˆ°äº† GitHubã€‚æ‚¨å¯ä»¥è®¿é—® <a target="_blank" rel="noopener" href="https://github.com/chopstickqy/qiankun-demo">qiankun-demo</a> æŸ¥çœ‹å®Œæ•´çš„ä»£ç å®ç°ï¼Œå¹¶æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2021-07-16.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2021-07-16.html" class="post-title-link" itemprop="url">AppHangB1å¼•èµ·çš„explorerè¿›ç¨‹åœæ­¢ä¸Windowsäº¤äº’è§£å†³æ–¹æ³•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-07-16 08:00:00" itemprop="dateCreated datePublished" datetime="2021-07-16T08:00:00+08:00">2021-07-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-07 20:24:14" itemprop="dateModified" datetime="2025-05-07T20:24:14+08:00">2025-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5/" itemprop="url" rel="index"><span itemprop="name">æ•…éšœæ’æŸ¥</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åŠå…¬ç”µè„‘ï¼ˆwindowsï¼‰çš„èµ„æºç®¡ç†å™¨çªç„¶ä¸€ç›´æœªå“åº”ï¼ŒæŸ¥èµ„æ–™æ‰¾äº†å‡ å¤©ï¼Œç»ˆäºè§£å†³äº†ï¼Œè¿™é‡Œè´´å‡ºæ¥è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/CoderAldrich/article/details/47974357?locationNum=2&fps=1">åŸæ–‡é“¾æ¥</a></li>
</ul>
<h2 id="è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰"><a href="#è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰"></a>è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰</h2><p>ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆç¡®è®¤å¯¼è‡´é—®é¢˜çš„åŸå› æ˜¯ä¸æ˜¯ç¼ºå°‘ç³»ç»Ÿæ–‡ä»¶ï¼Œä½¿ç”¨ç³»ç»Ÿæ–‡ä»¶æ£€æŸ¥å·¥å…·ï¼ˆSFC.exeï¼‰ã€‚</p>
<ol>
<li>Win+X,é€‰æ‹©ç®¡ç†å‘˜è¿è¡ŒWindows Powershellï¼Œå¦‚æœå¼¹å‡ºä¸€ä¸ªçª—å£è¦æ±‚ç¡®è®¤ï¼Œè¯·ç‚¹å‡»â€œæ˜¯â€</li>
<li>è¾“å…¥å‘½ä»¤SFC &#x2F;SCANNOW å¹¶ç‚¹å‡» ENTERï¼ŒSFC.exeä¼šæ‰«ææ‰€æœ‰å—ä¿æŠ¤çš„ç³»ç»Ÿæ–‡ä»¶å¹¶ç”¨æ­£ç¡®ç‰ˆæœ¬çš„æ–‡ä»¶ä»£æ›¿ä¸æ­£ç¡®çš„æ–‡ä»¶</li>
<li>é‡å¯åè§‚å¯Ÿæ˜¯å¦è§£å†³</li>
</ol>
<h2 id="è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰"><a href="#è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰"></a>è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰</h2><p>ç¬¬äºŒæ­¥ï¼šå¦‚æœSFCæ‰«æä¸èƒ½èµ·ä½œç”¨ï¼Œå°±å°è¯•è¿è¡Œçº¯å‡€å¯åŠ¨ï¼Œæ‰¾å‡ºå¯¼è‡´æ­¤é—®é¢˜çš„å¼€æœºå¯åŠ¨åº”ç”¨ç¨‹åºæˆ–åå°ç¨‹åºä»¥åŠæœåŠ¡ã€‚</p>
<ol>
<li>WIN+Ræ‰“å¼€è¿è¡Œçª—å£ï¼›</li>
<li>è¾“å…¥msconfigå¹¶ç‚¹å‡»ENTERï¼ˆè‹¥å¼¹çª—è¦æ±‚ç®¡ç†å‘˜æƒé™ï¼Œè¯·ç‚¹å‡»â€æ˜¯â€œï¼‰</li>
<li>åœ¨å¸¸è§„é€‰é¡¹å¡ä¸­é€‰ä¸­æœ‰é€‰æ‹©çš„å¯åŠ¨</li>
<li>åœ¨æœ‰é€‰æ‹©çš„å¯åŠ¨ä¸‹æ–¹é€‰ä¸­ä½¿ç”¨åŸå¼•å¯¼é…ç½®<br><img src="https://chopstickqy.github.io/images/2025-07-16/1.png" alt="image"></li>
<li>åˆ‡æ¢åˆ°æœåŠ¡é€‰é¡¹å¡ï¼Œé€‰ä¸­â€œéšè—æ‰€æœ‰MicrosoftæœåŠ¡â€çš„ç¼–è¾‘æ¡†ï¼Œç„¶åç‚¹å‡»å…¨éƒ¨ç¦æ­¢<br><img src="https://chopstickqy.github.io/images/2025-07-16/2.png" alt="image"></li>
<li>ç‚¹å‡»ç¡®å®šï¼Œä¿å­˜å…¶å®ƒæ–‡æ¡£å¹¶é‡å¯ç³»ç»Ÿã€‚<br>å¦‚æœç³»ç»Ÿé‡å¯åé—®é¢˜å¾—åˆ°äº†è§£å†³ï¼Œè¯´æ˜ä¸æ˜¯ç³»ç»Ÿåº”ç”¨å¯¼è‡´çš„é—®é¢˜ï¼ŒæŸ¥çœ‹ä¸Šå›¾å¯åŠ¨ä¸­å¼€æœºå¯åŠ¨çš„åº”ç”¨ç¨‹åºï¼Œå¾ˆæœ‰å¯èƒ½å°±æ˜¯ä»–ä»¬å¯¼è‡´çš„ï¼Œæ›´è¯¦ç»†çš„ä¿¡æ¯å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://support.microsoft.com/kb/331796">support.microsoft.com&#x2F;kb&#x2F;331796</a></li>
</ol>
<h2 id="è§£å†³æ–¹æ¡ˆï¼ˆä¸‰ï¼‰"><a href="#è§£å†³æ–¹æ¡ˆï¼ˆä¸‰ï¼‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼ˆä¸‰ï¼‰"></a>è§£å†³æ–¹æ¡ˆï¼ˆä¸‰ï¼‰</h2><p>ç¬¬ä¸‰æ­¥ï¼šå¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ²¡æœ‰è§£å†³ä½ çš„é—®é¢˜ï¼Œè¯·çœ‹é˜…è¯»ä¸‹é¢å†…å®¹</p>
<ol>
<li>ä½ çš„ç”µè„‘æ˜¯å¦æ˜¯ç¦»çº¿ï¼ˆæ— ç½‘ç»œï¼‰å·¥ä½œï¼Œå¦‚æœæ˜¯è¯·ç»§ç»­é˜…è¯»ã€‚</li>
<li>ä½ çš„windowç³»ç»Ÿæ˜¯å¦ä¸ºwin10æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯è¯·ç»§ç»­é˜…è¯»ã€‚</li>
<li>æ­å–œä½ ï¼Œè¿™é‡Œæœ‰è§£å†³åŠæ³•ï¼Œå¾®è½¯åœ¨è¿‘æœŸæ›´æ–°æ—¶åœ¨ä»»åŠ¡æ å¢åŠ äº†èµ„è®¯å’Œå…´è¶£æ¨¡å—ï¼Œå³é”®ä»»åŠ¡æ å°±å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªä»»åŠ¡æ åœ¨æ— ç½‘ç»œçš„æƒ…å†µä¸‹ï¼Œè·å–å’¨è¯¢æˆ–è€…æ—¥æœŸæ— æ•ˆå°±ä¼šå€’æ˜¯ä»»åŠ¡æ æ•ˆåº”å¤±è´¥å¼•èµ·exploreè¿›ç¨‹åœæ­¢ï¼Œæ‰€ä»¥ä½ è¦åšçš„å°±æ˜¯å…³é—­èµ„è®¯å’Œå…´è¶£ï¼Œåˆ°æ­¤ï¼Œé—®é¢˜è§£å†³ç»“æŸã€‚</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2021-06-15.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2021-06-15.html" class="post-title-link" itemprop="url">ç§æœ‰åŒ–éƒ¨ç½²CodePush ä»¥åŠ Ionic + Angular + Cordova é¡¹ç›®é›†æˆå¾®è½¯ CodePush</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-06-15 08:00:00" itemprop="dateCreated datePublished" datetime="2021-06-15T08:00:00+08:00">2021-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-07 20:24:14" itemprop="dateModified" datetime="2025-05-07T20:24:14+08:00">2025-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Technology/" itemprop="url" rel="index"><span itemprop="name">Technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>APPåœ¨å‘å¸ƒåå¦‚æœæœ‰ä¸€ç‚¹ç‚¹å°é—®é¢˜éœ€è¦æ”¹åŠ¨ï¼Œéœ€è¦é‡æ–°å®¡æ ¸å‘å¸ƒï¼ˆæ­¤å¤„cueåˆ° <strong>APP Store</strong>ï¼‰æ—¶éœ€è¦èŠ±è´¹ä¸€åˆ°ä¸¤å¤©çš„æ—¶é—´ï¼Œé‚£ä¹ˆå½“æ”¹åŠ¨çš„ä»…ä»…æ˜¯é™æ€æ–‡ä»¶æ—¶ï¼ˆHTML&#x2F;CSS&#x2F;JAVASCRIPTï¼‰ï¼Œå¯ä¸å¯ä»¥ä»…ä»…ä»è¿œç«¯æœåŠ¡å™¨æ‹‰å–æ–‡ä»¶æ›¿æ¢æœ¬åœ°æ–‡ä»¶ï¼Œæ¥è¾¾åˆ°çƒ­æ›´æ–°å‘¢ï¼Ÿç­”æ¡ˆä¸€å®šæ˜¯å¯ä»¥çš„ï¼ŒåºŸè¯ç»§ç»­æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹<code>CodePush</code>ã€‚</p>
<h2 id="CodePush-ç®€ä»‹"><a href="#CodePush-ç®€ä»‹" class="headerlink" title="CodePush ç®€ä»‹"></a>CodePush ç®€ä»‹</h2><p>æ¥çœ‹ä¸€ä¸‹å®˜æ–¹ä»‹ç»</p>
<blockquote>
<p>CodePush is a cloud service that enables Cordova and React Native developers to deploy mobile app updates directly to their usersâ€™ devices. It works by acting as a central repository that developers can publish updates to (JS, HTML, CSS and images), and that apps can query for updates from (using provided client SDK for Cordova and React Native). This allows you to have a more deterministic and direct engagement model with your userbase, when addressing bugs and&#x2F;or adding small features that donâ€™t require you to re-build a binary and re-distribute it through the respective app stores.<br>To get started using CodePush, refer to our documentation, otherwise, read the following steps if youâ€™d like to build&#x2F;contribute to the project from source.<br><em>NOTE: If you need information about code-push management CLI, you can find it in v3.0.1.</em></p>
</blockquote>
<p>æˆ‘ä»¬æ³¨é‡è¿™å¥è¯ï¼š<strong>å®ƒä½¿<code>Cordova</code>å’Œ<code>React Native</code>å¼€å‘äººå‘˜èƒ½å¤Ÿå°†ç§»åŠ¨åº”ç”¨ç¨‹åºæ›´æ–°ç›´æ¥éƒ¨ç½²åˆ°ç”¨æˆ·çš„è®¾å¤‡ä¸Š</strong>ã€‚<br>ä½¿ç”¨<code>CodePush</code>å¯ä»¥ä½¿æˆ‘ä»¬åœ¨ä¸é‡æ–°æ„å»ºå’Œå‘å¸ƒç¨‹åºçš„å‰æä¸‹ï¼Œæ›´æ–°ä¸€äº›é™æ€æ–‡ä»¶ï¼ˆJS,HTML,CSSå’Œå›¾ç‰‡ï¼‰ã€‚</p>
<p>**<em>æ³¨æ„ï¼šæœ¬æ–‡æ‰€å†™çš„<code>CodePush</code>æŠ€æœ¯åœ¨2017å¹´åå·²ç»è¢«å¾®è½¯æ•´åˆåˆ° App Center</em><br>æ‰€ä»¥æœ¬æ–‡å¯èƒ½å·²ç»è¢«æ—¶ä»£çš„å¤§æµªé—å¼ƒäº†ï¼Œå„ä½æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ç•™è¨€æˆ‘ã€‚</p>
<h2 id="ç§æœ‰åŒ–éƒ¨ç½²CodePushæœåŠ¡"><a href="#ç§æœ‰åŒ–éƒ¨ç½²CodePushæœåŠ¡" class="headerlink" title="ç§æœ‰åŒ–éƒ¨ç½²CodePushæœåŠ¡"></a>ç§æœ‰åŒ–éƒ¨ç½²CodePushæœåŠ¡</h2><h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><p>è¿è¡Œ<code>code-push-server</code>éœ€è¦<code>node</code>ç¯å¢ƒå’Œ<code>mysql</code>æ•°æ®åº“ï¼ˆå…¶ä»–æ•°æ®åº“ä¹Ÿå¯ä»¥ï¼Œéœ€è¦æ”¹æºç ï¼‰æ”¯æŒï¼Œå¯¹äº<code>node</code>å’Œ<code>mysql</code>å°±ä¸å¤šåšè§£é‡Šäº†ï¼Œæˆ‘ä»¬å…ˆæ¥å®‰è£…è¿™ä¸¤ä¸ªå·¥å…·ï¼š<br>å› ä¸ºæˆ‘æœ¬åœ°æœ‰<code>node</code>ç¯å¢ƒï¼Œæ‰€ä»¥æ²¡æœ‰é‡æ–°è¿›è¡Œå®‰è£…ï¼Œéœ€è¦å®‰è£…çš„å°ä¼™ä¼´ä»¬å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://nodejs.org/zh-cn/">å®˜ç½‘</a>ä¸‹è½½å®‰è£…ã€‚<br>åˆ—å‡ºæˆ‘æœ¬åœ°çš„<code>node</code>å’Œ<code>npm</code>ç‰ˆæœ¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node v12<span class="number">.18</span><span class="number">.3</span></span><br><span class="line">npm <span class="number">6.14</span><span class="number">.6</span></span><br></pre></td></tr></table></figure>
<p>mysqlæ•°æ®åº“ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ï¼š<a target="_blank" rel="noopener" href="https://cdn.mysql.com//Downloads/MySQLInstaller/mysql-installer-community-8.0.25.0.msi">mysql-installer-community-8.0.25.0.msi</a></p>
<h3 id="å®‰è£…ã€é…ç½®å’Œéƒ¨ç½²ç§æœ‰åŒ–code-push-server"><a href="#å®‰è£…ã€é…ç½®å’Œéƒ¨ç½²ç§æœ‰åŒ–code-push-server" class="headerlink" title="å®‰è£…ã€é…ç½®å’Œéƒ¨ç½²ç§æœ‰åŒ–code-push-server"></a>å®‰è£…ã€é…ç½®å’Œéƒ¨ç½²ç§æœ‰åŒ–code-push-server</h3><p>è¿™é‡Œçš„æœåŠ¡ç«¯ä½¿ç”¨æºç <a target="_blank" rel="noopener" href="https://github.com/lisong/code-push-server.git">github.com&#x2F;lisong&#x2F;codeâ€¦</a><br>å…‹éš†æºç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/lisong/code-push-server.git</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> code-push-server</span></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹<strong>config.js</strong>é…ç½®æ–‡ä»¶é‡Œæ•°æ®ç›¸å…³å’Œå…¶ä»–é…ç½®<br><img src="https://chopstickqy.github.io/images/2021-06-15/1.png" alt="image"></p>
<p><img src="https://chopstickqy.github.io/images/2021-06-15/2.png" alt="image"><br>å› ä¸ºæœ¬åœ°å®‰è£…çš„mysqlæ•°æ®åº“ç‰ˆæœ¬æ¯”é¡¹ç›®ä¸­å®¢æˆ·ç«¯æ‰€æ”¯æŒçš„ç‰ˆæœ¬é«˜ï¼Œæ‰€ä»¥è¦å‡çº§<code>mysql2</code>ä¾èµ–ï¼Œä¿®æ”¹<strong>package.json</strong>ä¸­<code>mysql2</code>ç‰ˆæœ¬ä¸º2.2.5ã€‚<br><img src="https://chopstickqy.github.io/images/2021-06-15/3.png" alt="image"></p>
<p>ç»§ç»­æ‰§è¡Œå‘½ä»¤å®‰è£…ä¾èµ–åŒ…å’Œè¿è¡ŒæœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./bin/db init --dbname codepush --dbhost localhost --dbuser root --dbpassword 123456 --dbport 3306 <span class="comment">#åˆå§‹åŒ–mysqlæ•°æ®åº“</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./bin/www <span class="comment">#å¯åŠ¨æœåŠ¡ æµè§ˆå™¨ä¸­æ‰“å¼€ http://127.0.0.1:3000 é»˜è®¤ç™»å½•å¯†ç :admin/123456</span></span></span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…-CodePush-Cli-å®¢æˆ·ç«¯"><a href="#å®‰è£…-CodePush-Cli-å®¢æˆ·ç«¯" class="headerlink" title="å®‰è£… CodePush Cli å®¢æˆ·ç«¯"></a>å®‰è£… CodePush Cli å®¢æˆ·ç«¯</h3><p>åœ¨æœ¬åœ°ç»ˆç«¯å®‰è£…<code>CodePush CLI</code>å®¢æˆ·ç«¯ï¼ˆå› ä¸ºåé¢éœ€è¦è‡ªå·±æ‰“åŒ…ä¸Šä¼ é¡¹ç›®ï¼Œæ‰€ä»¥å®‰è£…åœ¨è‡ªå·±å¼€å‘çš„ç”µè„‘ä¸Šå³å¯ï¼‰ã€‚<br>è¿™é‡Œç”±äº<code>code-push-server</code>ç‰ˆæœ¬åŸå› ï¼Œæˆ‘ä»¬æ¥æŒ‡å®šç‰ˆæœ¬2.1.9æ¥å®‰è£…:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g code-push-cli@2.1.9</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®¢æˆ·ç«¯è¿›è¡Œç™»å½•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code-push login http://xxx.xxx.xxx.xxx:3000</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤æ‰§è¡Œä¼šæ‰“å¼€æµè§ˆå™¨è·³è½¬åˆ°æœåŠ¡å™¨é¡µé¢è·å–<code>token</code>ï¼Œä½¿ç”¨é»˜è®¤admin&#x2F;123456ç™»å½•ï¼Œå¤åˆ¶å–åˆ°çš„<code>token</code>ä¿å­˜å³å¯ã€‚</p>
<h3 id="æ³¨å†Œ-APP"><a href="#æ³¨å†Œ-APP" class="headerlink" title="æ³¨å†Œ APP"></a>æ³¨å†Œ APP</h3><p>ä¸ºäº†è®©<code>CodePush</code>æœåŠ¡çŸ¥é“ä½ çš„é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦å‘å®ƒæ³¨å†ŒAPPã€‚<br>åœ¨ç»ˆç«¯è¾“å…¥<code>code-push add &lt;appname&gt; &lt;os&gt; &lt;platform&gt;</code>,å¹¶ä¸”<code>appname</code>è¦åŠ <code>-android</code>æˆ–è€…<code>-ios</code>ç»“å°¾ï¼Œç„¶åæ˜¯å¹³å°ï¼Œæœ€ååŠ ä¸Šæ˜¯<code>react-native</code>æˆ–è€…<code>cordova</code>ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code-push app add codepush-ionic-test-android android cordova</span><br></pre></td></tr></table></figure>

<h2 id="åœ¨é¡¹ç›®ä¸­é›†æˆCodePush-SDK"><a href="#åœ¨é¡¹ç›®ä¸­é›†æˆCodePush-SDK" class="headerlink" title="åœ¨é¡¹ç›®ä¸­é›†æˆCodePush SDK"></a>åœ¨é¡¹ç›®ä¸­é›†æˆCodePush SDK</h2><p><em>å‚è€ƒæ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://ionicframework.com/docs/native/code-push">ionicframework.com&#x2F;docs&#x2F;nativeâ€¦</a></em></p>
<h3 id="å®‰è£…-code-push-cordovaæ’ä»¶"><a href="#å®‰è£…-code-push-cordovaæ’ä»¶" class="headerlink" title="å®‰è£… code-push cordovaæ’ä»¶"></a>å®‰è£… code-push cordovaæ’ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ionic cordova plugin add cordova-plugin-code-push</span><br><span class="line">npm install @ionic-native/code-push</span><br></pre></td></tr></table></figure>
<h3 id="code-push-cordova-æ’ä»¶é…ç½®"><a href="#code-push-cordova-æ’ä»¶é…ç½®" class="headerlink" title="code push cordova æ’ä»¶é…ç½®"></a>code push cordova æ’ä»¶é…ç½®</h3><p>åœ¨<strong>config.xml</strong>æ–‡ä»¶ä¸­è®¾ç½®ç”Ÿæˆçš„<code>deploymentkey</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">platform</span> <span class="attr">name</span>=<span class="string">&quot;android&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preference</span> <span class="attr">name</span>=<span class="string">&quot;CodePushDeploymentKey&quot;</span> <span class="attr">value</span>=<span class="string">&quot;YOUR-ANDROID-DEPLOYMENT-KEY&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preference</span> <span class="attr">name</span>=<span class="string">&quot;codepushserverurl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;http://xxxx.xxxx.xxxx.xxxx:3000&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">platform</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">platform</span> <span class="attr">name</span>=<span class="string">&quot;ios&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preference</span> <span class="attr">name</span>=<span class="string">&quot;CodePushDeploymentKey&quot;</span> <span class="attr">value</span>=<span class="string">&quot;YOUR-IOS-DEPLOYMENT-KEY&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preference</span> <span class="attr">name</span>=<span class="string">&quot;codepushserverurl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;http://xxxx.xxxx.xxxx.xxxx:3000&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">platform</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>###ä»£ç é›†æˆ</p>
<p>ä¿®æ”¹ <code>src/app/app.module.ts</code> (å°†CodePushè®¾ç½®ä¸º provider)ã€‚</p>
<p>æœ€åï¼Œåœ¨<code>src/app.component.ts</code>ä¸­ä½¿ç”¨æ’ä»¶ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Platform</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;ionic-angular&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">StatusBar</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic-native/status-bar&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">SplashScreen</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic-native/splash-screen&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HomePage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../pages/home/home&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CodePush</span>, <span class="title class_">InstallMode</span>, <span class="title class_">SyncStatus</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic-native/code-push&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AlertController</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;ionic-angular/components/alert/alert-controller&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;app.html&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">MyApp</span> &#123;</span><br><span class="line">  <span class="attr">rootPage</span>:<span class="built_in">any</span> = <span class="title class_">HomePage</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="attr">platform</span>: <span class="title class_">Platform</span>, <span class="attr">statusBar</span>: <span class="title class_">StatusBar</span>, <span class="attr">splashScreen</span>: <span class="title class_">SplashScreen</span>,</span></span><br><span class="line"><span class="params">              <span class="keyword">private</span> <span class="attr">codePush</span>: <span class="title class_">CodePush</span>,  <span class="keyword">private</span> <span class="attr">alertCtrl</span>: <span class="title class_">AlertController</span></span>) &#123;</span><br><span class="line">    platform.<span class="title function_">ready</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// Okay, so the platform is ready and our plugins are available.</span></span><br><span class="line">      <span class="comment">// Here you can do any higher level native things you might need.</span></span><br><span class="line">      statusBar.<span class="title function_">styleDefault</span>();</span><br><span class="line">      splashScreen.<span class="title function_">hide</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">checkCodePush</span>(); <span class="comment">//Use the plugin always after platform.ready()</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">checkCodePush</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">codePush</span>.<span class="title function_">sync</span>(&#123;</span><br><span class="line">      <span class="attr">updateDialog</span>: &#123;</span><br><span class="line">       <span class="attr">appendReleaseDescription</span>: <span class="literal">true</span>,</span><br><span class="line">       <span class="attr">descriptionPrefix</span>: <span class="string">&quot;\n\nChange log:\n&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">installMode</span>: <span class="title class_">InstallMode</span>.<span class="property">IMMEDIATE</span></span><br><span class="line">   &#125;).<span class="title function_">subscribe</span>(</span><br><span class="line">     <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;CODE PUSH SUCCESSFUL: &#x27;</span> + data);</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;CODE PUSH ERROR: &#x27;</span> + err);</span><br><span class="line">     &#125;</span><br><span class="line">   );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‘å¸ƒæ›´æ–°ã€çƒ­éƒ¨ç½²"><a href="#å‘å¸ƒæ›´æ–°ã€çƒ­éƒ¨ç½²" class="headerlink" title="å‘å¸ƒæ›´æ–°ã€çƒ­éƒ¨ç½²"></a>å‘å¸ƒæ›´æ–°ã€çƒ­éƒ¨ç½²</h2><p>IOS:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code-push release codepush-ionic-test-ios ./platforms/ios/www/ 0.0.1 --description &quot;Your awesome change description&quot; -d &quot;Staging&quot;</span><br></pre></td></tr></table></figure>

<p>Android:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code-push release codepush-ionic-test-android ./platforms/android/app/src/main/assets/www/ 0.0.1 --description &quot;Your awesome change description&quot; -d &quot;Staging&quot;</span><br></pre></td></tr></table></figure>

<p>**<em>æ³¨æ„ï¼šå‘å¸ƒçš„ç‰ˆæœ¬è¦å’Œçº¿ä¸Šçš„ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•æ›´æ–°</em><br>å‘å¸ƒåé‡æ–°å¯åŠ¨APPå³å¯çœ‹åˆ°æ›´æ–°çš„å¼¹çª—æç¤ºã€‚</p>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7d44c244ac5c?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation">ä½¿ç”¨å¾®è½¯code pushå’Œç§æœ‰åŒ–éƒ¨ç½²code-push-serverçš„è¿‡ç¨‹</a></li>
<li><a target="_blank" rel="noopener" href="http://www.bubuko.com/infodetail-2754143.html%C2%A0">æœåŠ¡å™¨ç«¯code-push-serverã€mysqlæœåŠ¡çš„æ¶è®¾</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://chopstickqy.github.io/post/2020-03-27.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Charles">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Charles's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Charles's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/post/2020-03-27.html" class="post-title-link" itemprop="url">è§£å†³IE8è¿æ¥TLS 1.0æœåŠ¡ç«¯çš„é—®é¢˜</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-27 00:00:00" itemprop="dateCreated datePublished" datetime="2020-03-27T00:00:00+08:00">2020-03-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-05-07 20:24:14" itemprop="dateModified" datetime="2025-05-07T20:24:14+08:00">2025-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒIE8å®¢æˆ·ç«¯æ— æ³•è¿æ¥åˆ°æ”¯æŒTLS 1.0åè®®çš„æœåŠ¡ç«¯ã€‚è¿™è¡¨æ˜å®¢æˆ·ç«¯è¯·æ±‚çš„Cipher Suiteåœ¨æœåŠ¡ç«¯ä¸è¢«æ”¯æŒã€‚é—®é¢˜åŸå› æ˜¯æœåŠ¡ç«¯çš„JDK&#x2F;JREé»˜è®¤ä¸æ”¯æŒIE8æ‰€éœ€çš„Cipher Suiteã€‚</p>
<h2 id="IE8æ”¯æŒçš„Cipher-Suite"><a href="#IE8æ”¯æŒçš„Cipher-Suite" class="headerlink" title="IE8æ”¯æŒçš„Cipher Suite"></a>IE8æ”¯æŒçš„Cipher Suite</h2><p>ä»¥ä¸‹æ˜¯IE8åœ¨TLS1.0åè®®ä¸‹æ”¯æŒçš„Cipher Suiteåˆ—è¡¨ï¼š</p>
<ul>
<li>Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA (0x0035)</li>
<li>Cipher Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA (0x000a)</li>
<li>Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA (0x002f)</li>
<li>Cipher Suite: TLS_RSA_WITH_RC4_128_SHA (0x0005)</li>
<li>Cipher Suite: TLS_RSA_WITH_RC4_128_MD5 (0x0004)</li>
<li>Cipher Suite: TLS_RSA_WITH_DES_CBC_SHA (0x0009)</li>
</ul>
<h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>å½“å‰è£…çš„JDK&#x2F;JREç‰ˆæœ¬å¹¶ä¸åŒ…å«è¿™äº›Cipher Suiteï¼Œå› æ­¤å¯¼è‡´IE8æ— æ³•è¿æ¥åˆ°æœåŠ¡ç«¯ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="1-ä¸‹è½½å¹¶å®‰è£…Java-Cryptography-Extension-JCE-Unlimited-Strength-Jurisdiction-Policy-Files"><a href="#1-ä¸‹è½½å¹¶å®‰è£…Java-Cryptography-Extension-JCE-Unlimited-Strength-Jurisdiction-Policy-Files" class="headerlink" title="1. ä¸‹è½½å¹¶å®‰è£…Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files"></a>1. ä¸‹è½½å¹¶å®‰è£…Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files</h3><p>ä¸ºäº†è§£å†³Cipher Suiteä¸å…¼å®¹çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½å¹¶å®‰è£…Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Filesã€‚</p>
<ul>
<li>ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html">JCE Unlimited Strength Jurisdiction Policy Files 8</a></li>
<li>å®‰è£…åï¼Œéœ€è¦æ›¿æ¢æ‰JREçš„<code>lib/security</code>ç›®å½•ä¸‹çš„ä¸¤ä¸ªjaræ–‡ä»¶ã€‚</li>
</ul>
<h3 id="2-é…ç½®æœåŠ¡ç«¯æ”¯æŒæ›´å¤šCipher-Suites"><a href="#2-é…ç½®æœåŠ¡ç«¯æ”¯æŒæ›´å¤šCipher-Suites" class="headerlink" title="2. é…ç½®æœåŠ¡ç«¯æ”¯æŒæ›´å¤šCipher Suites"></a>2. é…ç½®æœåŠ¡ç«¯æ”¯æŒæ›´å¤šCipher Suites</h3><p>å®‰è£…JCEåï¼Œæˆ‘ä»¬éœ€è¦åœ¨Spring Bootçš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ”¯æŒçš„Cipher Suitesã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŒ…å«å¸¸è§Cipher Suitesçš„é…ç½®ï¼Œå¯ä»¥å°†å…¶åŠ å…¥åˆ°<code>application.yml</code>æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="yaml">server:
  ssl:
    ciphers: TLS_ECDH_anon_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, 
            TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
            TLS_KRB5_EXPORT_WITH_RC4_40_MD5, TLS_KRB5_EXPORT_WITH_RC4_40_SHA
            TLS_KRB5_WITH_RC4_128_MD5, TLS_KRB5_WITH_RC4_128_SHA
            TLS_DH_anon_WITH_AES_128_GCM_SHA256, TLS_DH_anon_WITH_AES_256_GCM_SHA384
            TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384
            TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384
            TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384
            TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
            TLS_RSA_WITH_RC4_128_MD5, TLS_RSA_WITH_RC4_128_SHA
            TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA
            TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
            TLS_RSA_WITH
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Charles</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  <script src="/js/third-party/pace.js"></script>


  





</body>
</html>
